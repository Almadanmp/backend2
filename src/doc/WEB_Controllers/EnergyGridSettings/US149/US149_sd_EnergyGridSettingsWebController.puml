@startuml

title  US149 - As an Administrator, I want to detach a room from a house grid, so that the room’s power \n and energy  consumption  is  not  included  in  that  grid.  The  room’s characteristics are not changed.

actor "Administrator"

Administrator->HTTPClient: Detach Room from Grid
HTTPClient -> SpringResolver: delete("gridSettings/grids/{energyGridId}")
SpringResolver -> EnergyGridSettingsWebController: detachRoomFromGrid(String roomID, String gridID)
EnergyGridSettingsWebController->EnergyGridRepository: removeRoomFromGrid(String roomID, String gridID)
EnergyGridRepository->EnergyGridRepository: findById(gridID)
alt if grid is present
EnergyGridRepository->"foundGrid :EnergyGrid" : removeRoom(roomID)
alt if room is present
create ResponseEntity
EnergyGridSettingsWebController -> ResponseEntity: create(String body, HttpStatus.OK);
ResponseEntity-->HTTPClient: ResponseEntity
else if room isn't present
EnergyGridSettingsWebController -> ResponseEntity: create(String body, HttpStatus.NOT_FOUND);
ResponseEntity-->HTTPClient: ResponseEntity
end
else if grid isn't present
EnergyGridSettingsWebController -> ResponseEntity: create(String body, HttpStatus.NOT_FOUND);
ResponseEntity-->HTTPClient: ResponseEntity
end
@enduml