@startuml
skinparam titleBorderRoundCorner 10
skinparam titleBorderThickness 3
skinparam titleBorderColor indianred
skinparam titleBackgroundColor ivory
skinparam FontName quicksand

skinparam actor {
 	BorderColor indianred
 	}

 skinparam sequence {
 	LifeLineBackgroundColor indianred
 	ParticipantBackgroundColor ivory
 }

 skinparam roundcorner 10

 skinparam component {
   arrowThickness 1
   ArrowFontName Verdana
   ArrowColor indianred
   ArrowFontColor darkslategrey
 }
title US 006 - an Administrator, I want to add a new sensor and associate it to a geographical area, so that one can get measurements of that type in that area.
autonumber
actor "HTTP Client"
"HTTP Client"  -> ":SensorSettingsWebController":  Request Post at ".../areas/{id}/sensors"
activate ":SensorSettingsWebController"
":SensorSettingsWebController" -> ":GeographicAreaRepository": GeographicAreaDTO geographicAreaDTO = getDTOById(id)
activate ":GeographicAreaRepository"
":GeographicAreaRepository" ->> "GeographicAreaCrudRepository": GeographicArea geographicArea = getById(id)
activate "GeographicAreaCrudRepository"
deactivate "GeographicAreaCrudRepository"
deactivate ":GeographicAreaRepository"
alt Try
":SensorSettingsWebController" -> ":GeographicAreaRepository": addSensorDTO(geographicAreaDTO, areaSensorDTO)
activate ":GeographicAreaRepository"
deactivate ":GeographicAreaRepository"
else Sucess
":SensorSettingsWebController" -> ":GeographicAreaRepository": updateAreaDTO(geographicAreaDTO)
activate ":GeographicAreaRepository"
":GeographicAreaRepository" -> "GeographicAreaCrudRepository": save(GeographicArea)
activate "GeographicAreaCrudRepository"
deactivate "GeographicAreaCrudRepository"
deactivate ":GeographicAreaRepository"
":SensorSettingsWebController" --> ":Postman": ResponseEntity<>(HttpStatus.OK)
":Postman" -->> "HTTP Client": Http Status: 200 - Ok
else  Failure
":SensorSettingsWebController" --> ":Postman": ResponseEntity<>(HttpStatus.NOT_ACCEPTABLE)
":Postman" -->> "HTTP Client": Http Status: 406 - Not Acceptable
deactivate ":SensorSettingsWebController"
end
@enduml